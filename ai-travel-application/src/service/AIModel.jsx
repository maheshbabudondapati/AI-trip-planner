import { GoogleGenerativeAI } from "@google/generative-ai";


const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash-exp",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

  export const chatSession = model.startChat({
    generationConfig,
    history: [
      {
        role: "user",
        parts: [
          {text: "Generate Travel Plan for Location: Las vegas, for 3} Days for couple with a cheap budget. Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the locations for 3 days with each day plan with best time to visit in JSON format"},
        ],
      },
      {
        role: "model",
        parts: [
          {text: "Okay, here's a JSON formatted travel plan for a 3-day, budget-friendly trip to Las Vegas for a couple, including hotel options and a detailed itinerary:\n\n```json\n{\n  \"tripName\": \"Las Vegas on a Budget: 3-Day Couple's Getaway\",\n  \"budget\": \"Cheap\",\n  \"travelers\": \"Couple\",\n  \"duration\": \"3 Days\",\n  \"location\": \"Las Vegas, Nevada, USA\",\n  \"hotels\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40 - $80 per night\",\n      \"hotelImageURL\": \"https://example.com/circus_circus_hotel.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1360,\n        \"longitude\": -115.1638\n      },\n      \"rating\": 3.5,\n      \"description\": \"A classic, budget-friendly option with a family-friendly atmosphere, including the Adventuredome theme park. Offers basic rooms and plenty of entertainment options.\"\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n       \"price\": \"$50 - $90 per night\",\n      \"hotelImageURL\": \"https://example.com/excalibur_hotel.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0985,\n        \"longitude\": -115.1726\n      },\n       \"rating\": 4,\n      \"description\": \"Medieval-themed hotel with affordable rooms, a variety of dining choices, and live entertainment. A good base for exploring the southern end of the Strip.\"\n    },\n    {\n       \"hotelName\": \"OYO Hotel and Casino Las Vegas\",\n      \"hotelAddress\": \"115 E Tropicana Ave, Las Vegas, NV 89109\",\n      \"price\": \"$35 - $75 per night\",\n      \"hotelImageURL\": \"https://example.com/oyo_hotel.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0996,\n         \"longitude\": -115.1691\n      },\n      \"rating\": 3.2,\n      \"description\":\"Affordable option near the Strip with basic amenities. Offers several dining choices and a casino.\"\n\n    }\n\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Strip (South)\",\n      \"bestTimeToVisit\": \"Late afternoon/evening for cooler temperatures and the best atmosphere\",\n      \"places\": [\n        {\n          \"placeName\": \"Welcome to Fabulous Las Vegas Sign\",\n          \"placeDetails\": \"Iconic sign for a classic Las Vegas photo. Free to visit.\",\n           \"placeImageURL\": \"https://example.com/las_vegas_sign.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0829,\n            \"longitude\": -115.1742\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n           \"travelTime\": \"15 mins from the hotel\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Gardens\",\n           \"placeDetails\": \"Beautiful themed gardens and floral displays that change seasonally. Free to visit.\",\n           \"placeImageURL\": \"https://example.com/bellagio_gardens.jpg\",\n           \"geoCoordinates\": {\n            \"latitude\": 36.1128,\n             \"longitude\": -115.1742\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.7,\n          \"travelTime\": \"5-10 mins walking from the previous location\"\n        },\n         {\n          \"placeName\": \"Fountains of Bellagio\",\n          \"placeDetails\": \"A spectacular water show with music and lights, happening every 30 minutes during the day and every 15 minutes in the evening. Free to watch.\",\n          \"placeImageURL\": \"https://example.com/bellagio_fountain.jpg\",\n           \"geoCoordinates\": {\n              \"latitude\": 36.1128,\n              \"longitude\": -115.1742\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.8,\n           \"travelTime\": \"Within the same location\"\n        },\n       {\n          \"placeName\":\"The LINQ Promenade\",\n          \"placeDetails\": \"Open-air shopping and dining area with street performers and the High Roller Observation Wheel.\",\n           \"placeImageURL\": \"https://example.com/linq_promenade.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1159,\n              \"longitude\": -115.1694\n           },\n           \"ticketPricing\": \"Free to walk around, prices vary for activities\",\n           \"rating\": 4.3,\n          \"travelTime\": \"10 mins walking from the previous location\"\n\n        }\n      ]\n    },\n    \"day2\": {\n        \"theme\": \"Fremont Street Experience and Downtown Charm\",\n        \"bestTimeToVisit\": \"Evening for light shows and live music.\",\n        \"places\": [\n          {\n            \"placeName\": \"Fremont Street Experience\",\n            \"placeDetails\":\"Covered pedestrian mall with light shows on the Viva Vision screen and street performers.\",\n            \"placeImageURL\": \"https://example.com/fremont_street.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1701,\n              \"longitude\": -115.1400\n            },\n             \"ticketPricing\": \"Free to walk around\",\n            \"rating\": 4.4,\n            \"travelTime\":\"30-40 minutes by ride-share or bus from the strip\"\n           },\n          {\n             \"placeName\": \"Container Park\",\n             \"placeDetails\": \"Unique shopping and entertainment area built from shipping containers. Check for free events.\",\n             \"placeImageURL\": \"https://example.com/container_park.jpg\",\n             \"geoCoordinates\": {\n                \"latitude\": 36.1698,\n                \"longitude\": -115.1381\n             },\n            \"ticketPricing\":\"Free to walk around\",\n             \"rating\": 4.2,\n            \"travelTime\": \"5-10 mins walking from the previous location\"\n          },\n           {\n            \"placeName\": \"Mob Museum\",\n             \"placeDetails\": \"Interesting museum showcasing the history of organized crime. (Entry fee required, consider visiting during discount hours).\",\n             \"placeImageURL\":\"https://example.com/mob_museum.jpg\",\n              \"geoCoordinates\": {\n                 \"latitude\": 36.1692,\n                 \"longitude\": -115.1411\n               },\n               \"ticketPricing\": \"$29.95 per adult\",\n              \"rating\":4.6,\n               \"travelTime\": \"5 mins walking from the previous location\"\n           },\n          {\n            \"placeName\":\"Golden Nugget Casino\",\n            \"placeDetails\": \"Historic casino with a unique shark tank pool.\",\n            \"placeImageURL\":\"https://example.com/golden_nugget.jpg\",\n            \"geoCoordinates\":{\n             \"latitude\":36.1689,\n              \"longitude\": -115.1432\n            },\n           \"ticketPricing\":\"Free to enter, cost for activities\",\n             \"rating\":4.3,\n            \"travelTime\":\"5 mins walking from the previous location\"\n           }\n        ]\n      },\n      \"day3\": {\n        \"theme\": \"Exploring the Strip (North) and Relaxation\",\n         \"bestTimeToVisit\":\"Morning for museums, late afternoon for strolling.\",\n         \"places\": [\n            {\n              \"placeName\":\"The Venetian and The Palazzo\",\n             \"placeDetails\": \"Explore the grand architecture, canals and shops inside the beautiful hotels.\",\n              \"placeImageURL\":\"https://example.com/venetian_hotel.jpg\",\n               \"geoCoordinates\": {\n                \"latitude\":36.1213,\n               \"longitude\": -115.1699\n              },\n              \"ticketPricing\":\"Free to walk around, cost for gondola ride\",\n              \"rating\":4.6,\n               \"travelTime\":\"15-20 mins by ride-share or bus from downtown\"\n           },\n         {\n            \"placeName\":\"Mirage Volcano\",\n           \"placeDetails\":\"See the erupting volcano (nightly show).\",\n            \"placeImageURL\":\"https://example.com/mirage_volcano.jpg\",\n            \"geoCoordinates\":{\n             \"latitude\":36.1203,\n              \"longitude\":-115.1734\n            },\n            \"ticketPricing\":\"Free\",\n           \"rating\":4.5,\n          \"travelTime\":\"5-10 mins walking from the previous location\"\n         },\n         {\n            \"placeName\":\"High Roller Observation Wheel\",\n            \"placeDetails\": \"Giant Ferris wheel with great views of the Las Vegas Strip. (Consider purchasing discounted tickets online).\",\n            \"placeImageURL\":\"https://example.com/high_roller.jpg\",\n            \"geoCoordinates\":{\n              \"latitude\":36.1167,\n              \"longitude\":-115.1684\n            },\n           \"ticketPricing\": \"$30.75 per adult\",\n           \"rating\":4.5,\n           \"travelTime\":\"10-15 mins walking from the previous location\"\n         },\n         {\n           \"placeName\":\"Pool Time or Relaxing\",\n            \"placeDetails\": \"Enjoy some downtime by the hotel pool, or grab a cheap bite to eat.\",\n            \"placeImageURL\":\"https://example.com/hotel_pool.jpg\",\n             \"geoCoordinates\":{\n              \"latitude\": 36.1360,\n               \"longitude\": -115.1638\n             },\n            \"ticketPricing\": \"Free for hotel guest, cost for food\",\n           \"rating\":\"4.0\",\n           \"travelTime\":\"Depend on hotel location\"\n         }\n        ]\n    }\n  },\n  \"notes\": \"This itinerary prioritizes free activities and affordable attractions. Consider purchasing a multi-day bus pass for easier and cheaper transportation on the strip. Take advantage of happy hour deals for affordable food and drinks. Prices may vary, so double-check before your visit. Hotel prices are estimates and can change based on availability and season.\"\n}\n```\n\n**Important Notes:**\n\n*   **Replace Placeholder URLs:**  The `hotelImageURL` and `placeImageURL` values are placeholders. You'll need to find actual image URLs online to display images.\n*   **Price Updates:** Hotel and attraction prices can fluctuate. Always check the latest prices before booking.\n*   **Transportation:** The itinerary includes estimated travel time, but these can vary depending on traffic. Consider using ride-sharing services, buses (Deuce or SDX), or walking to get around.\n*   **Flexibility:** Be flexible with your itinerary. You might discover new places you like while exploring!\n*  **Food:**  Plan for budget friendly meals by taking advantage of food courts or affordable food.\n*   **Discounts:** Search for online coupons, discounts, and multi-day pass options for some attractions.\n* **Hotel Selection:**  Consider location to your priorities, a location closer to the center strip will make it easier to get around, but might be more expensive.\n\nThis JSON data should give you a solid foundation for a great, budget-conscious trip to Las Vegas!\n"},
        ],
      },
    ],
  });